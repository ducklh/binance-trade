<!DOCTYPE html>
<html lang="en">
<head>
    <base href="http://localhost:3000/" />
    <meta charset="UTF-8">
    <link rel="stylesheet" href="./layout.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo Binance APi
    </title>
    <script src="./socket.io/socket.io.js"></script>
    <!-- <script src="https://cdn.socket.io/4.4.0/socket.io.min.js" integrity="sha384-1fOn6VtTq3PWwfsOrk45LnYcGosJwzMHv+Xh/Jx5303FVOXzEnw0EpLv30mtjmlj" crossorigin="anonymous"></script> -->
   <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
   <script>
        var socket = io("http://localhost:3000/");
        socket.on("server-send-price",function(data){
            $("h2").html(data);
        })
        $(document).ready(function(){
          $("#btnBuy").click(function(){
            var amount = parseFloat($('#txtAmount').val());
            $.get("./buy/" + amount, function(data){
              console.log(data);
            })
          })
        })
      </script>
</head>
<body class="bg-dark container">
    <!-- <h2 style="color: aliceblue;">Binance Trading</h2> -->
    <div class="wrapper">
        <div class="row mt-5">
            <div id="left" class="col-8">
                <!-- TradingView Widget BEGIN -->
<div class="tradingview-widget-container">
    <div id="tradingview_a472b"></div>
    <div class="tradingview-widget-copyright"></div>
    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
    <script type="text/javascript">
    new TradingView.widget(
    {
    "width": 700,
    "height": 610,
    "symbol": "BINANCE:BTCUSDT",
    "interval": "60",
    "timezone": "Asia/Ho_Chi_Minh",
    "theme": "light",
    "style": "1",
    "locale": "en",
    "toolbar_bg": "#f1f3f6",
    "enable_publishing": false,
    "allow_symbol_change": true,
    "container_id": "tradingview_a472b"
  }
    );
    </script>
  </div>
  <!-- TradingView Widget END -->
            </div>
            <div id="right" class="col-4 text-center">
                <h1 class="text-light">BTC/USDT</h1>
                <h2 style="color: aliceblue;" class="mt-5">Binance Trading</h2>
                <div class="form-group">  
                    <input class="form-control" type="text" id="txtAmount" placeholder="Amount of BTC">
                </div>
                <div class="form-row">
                    <div class="form-group col-md-6">
                      <input class="form-control" type="button" id="btnBuy" value="BUY">
                    </div>
                    <div class="form-group col-md-6">
                      <input class="form-control" type="button" id="btnSell" value="SELL">
                    </div>
                  </div>
            </div>
        </div>

    </div>
</body>
</html>